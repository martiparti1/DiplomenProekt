@model IEnumerable<GameWorld.Models.Product.ProductIndexVM>

@{
    ViewData["Title"] = "Home Page";
}


<style>
.slideshow-container {
  position: relative;
  height: 60vh;
}

.mySlides {
  position: absolute;
  top: 5%;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  transition: opacity 1s;
}

.mySlides.fade {
  opacity: 1;
}

.mySlides img {
  display: block;
  height: auto;

  margin: auto;
}

</style>
<div class="slideshow-container">
  <div class="mySlides fade">
    <img src="~/images/razersale.png" />
  </div>
  <div class="mySlides fade">
    <img src="~/images/spring.png">
  </div>
  
</div>
<div class="row">
    @foreach (var item in Model.Take(3))
    {
              <div class="col-lg-4 col-md-12 mb-4">
                    <div id="card-round-borders" class="card">
                        <div class="bg-image hover-zoom ripple ripple-surface ripple-surface-light" data-mdb-ripple-color="light">
                         <a asp-controller="Product"asp-action="Details" asp-route-id="@item.Id" > <img src="@item.Image" id="card-round-borders" class="w-100 img-thumbnail" /> </a>   
                        </div>
                       
                        <div class="card-body">
                           
                            <h5 class="card-title mb-3">@item.ProductName</h5>
                          
                         
                            <h6 class="mb-3">@item.CategoryName</h6>
                          
                          
                            <h6 class="mb-3">@item.Price€</h6>
                           @if (this.User.Identity.IsAuthenticated)
                           {

                            <form asp-controller="Cart" asp-action="AddToCart" method="post">
                             <input type="hidden" name="productId" value="@item.Id" />
                             <input type="number" name="quantity" value="1" min="1" />
                             <button type="submit">Add to Cart</button>
                            </form>
                           }

                     </div>
                     </div>
                 </div>
    }
</div>
<script>
let slideIndex = 0;
showSlides();

function showSlides() {
  const slides = document.getElementsByClassName("mySlides");
  for (let i = 0; i < slides.length; i++) {
    slides[i].classList.remove("fade");
  }
  slideIndex++;
  if (slideIndex > slides.length) { slideIndex = 1 }
  slides[slideIndex - 1].classList.add("fade");
  setTimeout(showSlides, 3400); // Change image every 5 seconds
}
</script>