
@model IEnumerable<GameWorld.Models.Product.ProductIndexVM>

<style>
    #slideshow {
        text-align: center;
        margin: 0 auto;
    }
</style>

<div id="slideshow">
    <img src="~/images/image1.jpg" alt="image 1" />
    <img src="~/images/image2.png" alt="image 2" />
    <img src="~/images/image3.jpg" alt="image 3" />
<</div>

<div class="row">
    @foreach (var item in Model)
    {
    <div class="col-md-4 mb-5">
        <div class="card h-100">
            <img src="@item.Image" class="card-img-top product-image" alt="@item.ProductName" width="300" height="300">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">@item.ProductName</h5>
                <p class="card-text">@item.Description</p>
                <div class="mt-auto">
                    <p class="card-text"><strong>Price: </strong>@item.Price</p>
                </div>
                <div class="d-flex justify-content-between align-items-end">
                    <a href="#" class="btn btn-primary">Add to Cart</a>
                    <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-info">Details</a>
                </div>
            </div>
        </div>
    </div>
    }
</div>


<script>
    var slideShow = function (container) {
        this.images = [];
        this.curImage = 0;
        for (i = 0; i < container.childElementCount; i++) {
            this.images.push(container.children[i]);
            this.images[i].style.display = "none";
        }
        var nextSlide = function () {
            for (var i = 0; i < this.images.length; i++) {
                this.images[i].style.display = "none";
            }
            this.images[this.curImage].style.display = "block";
            this.curImage++;
            if (this.curImage >= this.images.length) {
                this.curImage = 0;
            }
            var self = this;
            window.setTimeout(function () {
                nextSlide.call(self);
            }, 600);
        };
        nextSlide.call(this);
    };
    slideShow(document.getElementById("slideshow"));
</script>