@model IEnumerable<GameWorld.Models.Product.ProductIndexVM>
@using GameWorld.Models.Order
<style>
.text-center.container.py-5 {
  background-color: #E0E0E0;
  border-radius:15px;
}


#card-round-borders{
    border-radius: 10px;
}

</style>

@if ((this.User.Identity.IsAuthenticated) && (this.User.IsInRole("Administrator")))
{
    <p>
        <a asp-action="Create" class="btn btn-success btn-sm">Add a Product</a>
    </p>
}
@*Category : <input type="text" name="searchStringCategoryName" />*@
<form asp-controller="Product" asp-action="Index" method="get">
    <p>
        Platform : <input type="text" name="searchStringPlatformName" />
        <input type="submit" value="Filter" />
    </p>
</form>

<form asp-controller="Product" asp-action="Index" method="get">
  <p>
    Platform:
    <label><input type="checkbox" name="searchStringPlatformName" value="ps4">PS4</label>
    <label><input type="checkbox" name="searchStringPlatformName" value="ps5">PS5</label>
    <label><input type="checkbox" name="searchStringPlatformName" value="pc">PC</label>
    <label><input type="checkbox" name="searchStringPlatformName" value="xbox">Xbox</label>
    <label><input type="checkbox" name="searchStringPlatformName" value="nintendo">Nintendo</label>
    <input type="submit" value="Filter">
  </p>
</form>
<body>
 
        <div class="text-center container py-5">
            
            <h1>All products</h1>
            <div class="row">
                @foreach (var item in Model)
                {
                 <div class="col-lg-4 col-md-12 mb-4">
                    <div id="card-round-borders" class="card">
                        <div class="bg-image hover-zoom ripple ripple-surface ripple-surface-light" data-mdb-ripple-color="light">
                         <a asp-action="Details" asp-route-id="@item.Id" > <img src="@item.Image" id="card-round-borders" class="w-100 img-thumbnail" /> </a>   

                          @if(item.Platform.ToLower().Equals("ps5"))
                            { 
                                <div class="mask">
                <div class="d-flex justify-content-start align-items-end h-100">
                  <h5><span class="badge bg-primary ms-2">PS5</span></h5>
                </div>
              </div>
              <div class="hover-overlay">
                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
              </div>
                            }
                             @if(item.Platform.ToLower().Equals("ps4") )
                            { 
                                <div class="mask">
                <div class="d-flex justify-content-start align-items-end h-100">
                  <h5><span class="badge bg-info ms-2">PS4</span></h5>
                </div>
              </div>
              <div class="hover-overlay">
                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
              </div>
                            }

                            @if(item.Platform.ToLower().Equals("nintendo"))
                            { 
                                <div class="mask">
                <div class="d-flex justify-content-start align-items-end h-100">
                  <h5><span class="badge bg-danger ms-2">Nintendo</span></h5>
                </div>
              </div>
              <div class="hover-overlay">
                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
              </div>
                            }
                            @if(item.Platform.ToLower().Equals("xbox"))
                            { 
                                <div class="mask">
                <div class="d-flex justify-content-start align-items-end h-100">
                  <h5><span class="badge bg-success ms-2">Xbox</span></h5>
                </div>
              </div>
              <div class="hover-overlay">
                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
              </div>
                            }

                             @if(item.Platform.ToLower().Equals("pc"))
                            { 
                                <div class="mask">
                <div class="d-flex justify-content-start align-items-end h-100">
                  <h5><span class="badge bg-dark ms-2">PC</span></h5>
                </div>
              </div>
              <div class="hover-overlay">
                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
              </div>
                            }
                        </div>
                       
                        <div class="card-body">
                          <a href="" class="text-reset">
                            <h5 class="card-title mb-3">@item.ProductName</h5>
                          </a>
                          <a href="" class="text-reset">
                            <p>@item.CategoryName</p>
                          </a>
                            <h6 class="mb-3">@item.Price€</h6>
                           @if (this.User.Identity.IsAuthenticated)
                           {

                            <form asp-controller="Cart" asp-action="AddToCart" method="post">
                             <input type="hidden" name="productId" value="@item.Id" />
                             <input type="number" name="quantity" value="1" />
                             <button type="submit">Add to Cart</button>
                            </form>
                           }

                     </div>
                     </div>
                 </div>
                }
            </div>

        </div>
</body>
